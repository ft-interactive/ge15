# Schema plan

Key
- * values in the 

## Constituency
+ id* (ONS)
+ name (allows us to change the style of name)
+ ons_name (never changes)
+ region_id (ONS - FK region.id) 
+ region_name (ONS)
+ slug* (from name field)
+ pa_id*
+ bbc_id*
+ bbc_href*
+ guardian_id*
+ guardian_href*
+ ? mp_previous, do we want to copy stuff of the lastest row in the election table?
+ ? party_previous
+ ? has_result - used for election night
+ ? new mp
+ party
+ swing - used after result for swing
+ swing_previous - used before election swing in last election
+ hold (FK party.id)
+ loss (FK party.id)
+ gain (FK party.id)

# ConstituencyGroup
+ id
+ name
+ description
+ is_dynamic (constituencies appear in here if they satify a query - no membership in ConstiuencyGroupMembers)
+ query
+ weight (used for sorting lists of groups)

# ConstiuencyGroupMembers
+ group_id (FK ConstituencyGroup.id)
+ constituency_id (FK constituency.id)

## Region
+ id* (ONS)
+ name (ONS)
+ slug* (derived from name field)

## Ward
+ id* (ONS)
+ name (ONS)
+ slug (generated by speakingurl)
+ constituency_id (FK constituency.id)
+ constituency_slug (FK constituency.slug)

## Party
+ id* (numeric) -- perhaps this could be the pa_id instead???????
+ longname (the full proper name, eg Liberal Democrats)
+ shortname* (eg Lib Dems)
+ abbrv (max 5 chars, case sensitive: eg Con)
+ pa_id (not necessarily very readable eg "C" for conservative)
+ slug (derived from shortname field)
+ color

## Election
+ year
+ constituency_id (FK constitiuency.id)
+ is_byelection (boolean)
+ turnout
+ turnout_pc (% turnout)
+ winning_votes
+ winning_candidate_name
+ winning_candidate_id (FK candidate.id - or null if not running in 2015)
+ winning_party_id (FK party.id - or null if the party does not exist anymore)
+ winning_party_name (FK party.shortname)
+ majority size
+ other_votes (spolied ballot etc, if we want to keep a record of this stuff)

## ElectionResult
+ year
+ constituency_id  (FK constitiuency.id)
+ party_name (FK party.shortname)
+ party_id (FK party.id)
+ votes
+ candidate_name
+ candidate_id (if they appear in the candidates table, otherwise null)

## Candidate
+ id* (numeric)
+ name
+ party_id (FK party.id)
+ party_name (FK party.shortname)
+ slug (made by concatenating party_name + name)
