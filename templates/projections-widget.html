<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    </head>
    <style>
    html, body {background-color: #fff1e0;margin:0;font-family: sans-serif;}
    table {border-spacing: 0px; border-collapse: separate;width:100%;margin-bottom: 8px;table-layout: fixed;}
    td {
      padding: 5px 7px 5px 4px;
      text-align:right;
      cursor: default;
    }
    .source,
    .note {
      font-size: 10px;
    }
    .source {
      opacity: 0.5;
      margin: 0;
      display: inline;
    }

    .source a, .source a:visited, .source a:hover{
      color: #2e6e9e;
      text-decoration: none;
    }

    .note {
      opacity: 0.8;
      margin: 0;
      display: inline;
    }

    .visually-hidden {
      position:absolute;
      left: -1000px;
    }

    .party-name {
      color: white;
      font-size: 14px;
      font-weight: normal;
    }

    .party-seats {
      color: white;
      font-size: 16px;
      font-weight: bold;
    }

    h1 {
      margin: 0;
      font-size: 16px;
      font-weight: normal;
    }
    </style>
    <body>
      <table>
        <tbody>
        <tr>
        {% for row in parties %}
        <td style="background-color:{{ row.Party | partyColor }};width:{{ (row.Seats/650) * 100 }}%;"
              title="{{ row.Party | partyFullName }} {{ row.Seats}} seats"
              data-party="{{ row.Party }}"
              data-seats="{{ row.Seats }}"
              data-hi="{{ row.Hi }}"
              data-lo="{{ row.Lo }}"
              data-swing="{{ row.Swing | change }}">
              <span class="party-name {%if row.Seats < 200 %}visually-hidden{% endif %}">{{ row.Party | partyShortName }}</span>
              <span class="party-seats {%if row.Seats < 20 %}visually-hidden"{% endif %}">{{row.Seats}}</span></td>
        {% endfor %}
        </tr>
        </tbody>
      </table>
      <h1>Projection</h1>
      <p class="note">326 seats are needed for a majority.</p>
      <p class="source">Source: <a href="http://electionforecast.co.uk/">electionforecast.co.uk</a>. Last changed on {{ updated | date('F j, G:i a')}}.</p>
    </body>
</html>
